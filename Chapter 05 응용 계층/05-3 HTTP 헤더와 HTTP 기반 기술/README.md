# 05-3 HTTP 헤더와 HTTP 기반 기술

## 📌 학습 목표
- 해당 챕터의 개념 정리

## ❓ 확인 문제
### Q1. KKB씨는 미술 대회 신청을 해야하지만, 현재 다리를 다쳐 
### 신청을 위한 정보를 쿠키에 담아 원격으로 보내고자 한다.
### KKB씨가 쿠키에 담은 정보의 보안이 염려될 때 조치 할 수 있는 방법은?

#### 1️⃣ Secure 속성을 사용한다. 

#### 2️⃣ HttpOnly속성을 사용한다.

#### 3️⃣ 쿠키를 Base64로 인코딩한다.

#### 4️⃣ 쿠키 대신 세션 스토리지를 사용한다.

<details>
<summary>정답</summary>

#### 3️⃣ 쿠키를 Base64로 인코딩한다.

### 🔹 문제 분석
Base64 인코딩은 데이터를 변환할 뿐 암호화가 아님 

## 🔹 1️⃣ Secure 속성을 사용한다.  
✅ 
- `Secure` 속성을 설정하면 **쿠키가 HTTPS(보안 프로토콜)에서만 전송**됩니다.  
- 이를 통해 **네트워크에서 데이터가 평문으로 전송되는 것을 방지**할 수 있습니다.  
- HTTP 환경에서는 쿠키가 전송되지 않으므로, **중간자 공격(Man-in-the-Middle, MITM) 방지**에 효과적입니다.  

## 🔹 2️⃣ HttpOnly 속성을 사용한다.  
✅ 

- `HttpOnly` 속성을 사용하면 **자바스크립트에서 쿠키 접근이 불가능**합니다.  
- 이를 통해 **XSS(사이트 간 스크립트) 공격으로부터 보호**할 수 있습니다.  
- 공격자가 악성 스크립트를 실행하더라도 `document.cookie`를 통해 쿠키를 탈취할 수 없음. 

## 🔹 4️⃣ 쿠키 대신 세션 스토리지를 사용한다.  
✅   

- **세션 스토리지는 브라우저의 메모리에 저장되며, 브라우저를 닫으면 자동 삭제**됩니다.  
- **쿠키보다 보안이 강력하며, XSS 공격에도 비교적 안전**합니다.  
- 서버로 자동 전송되지 않으므로, **세션 토큰을 저장할 때 더 안전한 방법**이 될 수 있음.  

</details>

### Q2. 다음 중 HTTP 헤더와 기반 기술에 대한 설명으로 옳지 않은 것은 무엇인가요?

1️. HTTP 요청(Request) 헤더에는 User-Agent, Accept, Authorization과 같은 정보가 포함될 수 있다.

2️. HTTP 응답(Response) 헤더에는 Content-Type, Set-Cookie, Cache-Control 등의 정보가 포함될 수 있다.

3️. 쿠키(Cookie)는 클라이언트의 상태 정보를 저장하며, Set-Cookie 헤더를 통해 서버가 쿠키를 설정할 수 있다.

4. HTTP는 기본적으로 상태를 유지하는 프로토콜이므로, 별도의 기술 없이도 클라이언트와 서버 간 세션을 자동으로 유지할 수 있다.

<details>
<summary>정답</summary>

**4. HTTP는 기본적으로 상태를 유지하는 프로토콜이므로, 별도의 기술 없이도 클라이언트와 서버 간 세션을 자동으로 유지할 수 있다. X**   
  - HTTP는 기본적으로 상태를 유지하지 않는(stateless) 프로토콜이다.
  - 클라이언트와 서버 간 세션을 유지하려면 쿠키(Cookie), 세션(Session), 토큰(Token) 등의 기술을 추가적으로 사용해야 한다.
[해설]

**[해설]**

**1.HTTP 요청(Request) 헤더에는 User-Agent, Accept, Authorization과 같은 정보가 포함될 수 있다. O**   
  - User-Agent: 클라이언트의 브라우저 및 OS 정보 제공
  - Accept: 클라이언트가 받을 수 있는 콘텐츠 타입 명시
  - Authorization: 인증 정보 전달 (예: Bearer 토큰)


**2. HTTP 응답(Response) 헤더에는 Content-Type, Set-Cookie, Cache-Control 등의 정보가 포함될 수 있다. O**   
  - Content-Type: 응답의 콘텐츠 타입 (예: text/html, application/json)
  - Set-Cookie: 서버가 클라이언트에 쿠키를 설정하는 헤더
  - Cache-Control: 캐시 정책 지정 (예: no-cache, max-age=3600)
  

**3. 쿠키(Cookie)는 클라이언트의 상태 정보를 저장하며, Set-Cookie 헤더를 통해 서버가 쿠키를 설정할 수 있다. O** 
  - 쿠키는 세션 유지, 사용자 인증, 개인화 설정 등에 활용된다.
  
---

</details> 

### Q3. 아주 표독하고, 식탐 많은 DJ Park은 엄격한 상사 X의 명을 받아 당진으로 출장을 떠났다. 출발 전, 상사는 그에게 중요한 거래처에 전달할 쿠키를 건넸다. 하지만 참을성이 부족한 DJ Park은 도착 한 시간 전, 그만 쿠키를 모조리 먹어치우고 만다. 달콤한 행복에 젖어 거래처로 향하는 DJ Park—그러나 그는 곧 닥칠 운명을 알지 못했다. 이제, 불쌍한 DJ Park이 맞이할 비극을 설명해보자.

<details>

<summary>정답</summary>

- 해당 쿠키는 DJ Park의 회사에 대한 정보가 담긴, 거래처에서 건네 준 쿠키이다.
거래사는 해당 쿠키를 토대로 DJ Park을 어떻게 응대할 것인지 판단할 수 있는 것이다. 하지만 이를 모조리 먹어치운 DJ Park은 아니나 다를까, 거래처에서, 어떤 회사에서 온 놈이지 판단도 불가능하여, 다시 돌려보내 질 것이다. 성과가 없는 것을 넘어서 사고를 치고 돌아온 DJ Park을 본 상사 X는 열이 매우 받았을 것이며, DJ Park을 갈구기 시작한다. 이를 견디지 못한 DJ Park은 3일 후 자택에서 변싼채로 발견된다. 

- 이처럼 쿠키는 클라이언트에대한 정보, 로그인 상태 유지 등에 대한 상태를 클라이언트 측에 저장하게 된다. 요청 시 헤더에 넣어, 서버에 전달한다. 서버는 쿠키의 정보를 활용하며, Http의 Stateless함을 보완한다.

</details>

### Q4. 다음 중 HTTP 기반 기술인 캐시에 대한 설명으로 옳지 않은 것은?

#### 1. 응답받은 내용의 사본을 임시로 저장하여 전송 시 대역폭 낭비와 응답 지연을 방지하는 기술이다.

#### 2. 사본이 저장되는 위치에 따라, 크게 개인 전용 캐시와 공용 캐시로 구분 가능하다.

#### 3. 캐시된 사본 데이터가 최신 원본 데이터와 유사한지를 검사하기 위해 날짜 혹은 엔티티 태그를 기반으로 서버에게 요청할 수 있다.

#### 4. 서버에 캐시 신선도 검사를 요청받은 자원이 변경되었을 경우, 서버는 상태 코드 304와 함께 새로운 자원을 반환한다.

<details>
<summary>정답</summary>

#### 4. 서버에 캐시 신선도 검사를 요청받은 자원이 변경되었을 경우, 서버는 상태 코드 304와 함께 새로운 자원을 반환한다.

- 서버에 캐시 신선도 검사를 요청받은 자원이 변경되었을 경우, 서버가 자원과 함께 반환하는 상태 코드는 200입니다.
- 상태 코드 304는 요청받은 자원이 변경되지 않았을 경우 반환됩니다. 이 경우 캐시된 자원을 문제없이 참조하여 사용할 수 있습니다.
- 서버는 상태 코드 304와 함께 Last-Modified 헤더를 반환하여 요청받은 자원이 마지막으로 수정된 시점도 클라이언트에게 알려 줄 수 있습니다.

</details>

## 📝 사용법  
### 이렇게 활용해 보세요! ✨  
1. ❓ 확인 문제 아래에 본인이 만든 질문을 추가하세요.  
2. 설명이 길어질 경우, 따로 마크다운 파일을 만들고 링크를 함께 추가해 주세요! 🔗  

### 🔗 링크 추가 방법  
1. 먼저 질문을 작성합니다.  
2. 링크를 적용할 문장을 마우스로 선택합니다.  
3. URL을 붙여넣습니다.  
4. 마크다운 형식으로 `[내용](링크)` 형태로 정리됩니다.  
